## 오류처리 -> error.tsx

파일 규칙을 사용하면 중첩된 경로 `error.tsx`에서 런타임 오류를 적절하게 처리할 수 있다.

- `React Error Boundary`에서 경로 세그먼트와 중첩된 하위 항목을 자동으로 래핑한다.
- 나머지 애플리케이션 기능을 유지하면서 영향을 받은 세그먼트에 대한 오류를 격리한다.
- 전체 페이지를 다시 로드하지 않고 오류 복구를 시도하는 기능을 추가한다.

> `error.tsx`를 경로 세그먼트 내부에 파일을 추가하고 오류 UI를 만듭니다.

- `React Error Boundary`를 자동으로 생성합니다.중첩된 하위 세그먼트 또는 구성 요소를 래핑 합니다.
- 내보낸 React 구성 요소가 대체 error.tsx 구성 요소 로 사용됩니다.
- 오류 경계 내에서 오류가 발생하면 오류가 포함되고 대체 구성요소가 렌더링 됩니다.
- 대체 오류 구성 요소가 활성화되면 오류 경계 위의 레이아웃은 상태를 유지 하고 대화형을 유지하며 오류 구성 요소는 오류를 복구하는 기능을 표시할 수 있습니다.

### 중첩된 경로

- 오류는 가장 가까운 상위 오류 경계까지 표시된다. 이는 error.tsx 파일이 중첩된 모든 하위 세그먼트에 대한 오류를 처리한다는 의미이다. - error.tsx 경로의 중첩 폴더에서 다양한 수준에 파일을 배치하면 다소 세분화된 오류 UI를 얻을 수 있다.
- 오류 경계 error.tsx는 해당 레이아웃 구성 요소 내부에 중첩되어 있으므로 경계는 `동일한 세그먼트의 구성 요소에서 layout.tsx에 발생한 오류를 처리하지 않는다.`

### 서버 오류 처리

서버 구성요소 내부에서 오류가 발생하면 Next.js는 객체를 가장 가까운 `error.tsx` 파일에 prop으로 전달한다.

**민감한 오류 정보 보호**

- 프로덕션 중에 Error 클라이언트에 전달되는 객체에는 `message` 및 `digset` 속성만 포함된다.

> - 이는 오류에 포함된 잠재적으로 민감한 세부 정보가 클라이언트에 유출되는 것을 방지하기 위한 보안 예방 조치입니다.

- 속성 message에는 오류에 대한 일반 메시지가 포함되어 있으며 digest에는 서버 측 로그에서 해당 오류를 일치시키는 데 사용할 수 있는 자동으로 생성된 오류 해시가 포함되어 있습니다.
- 개발 중에 Error 클라이언트에 전달된 개체는 직렬화되고 message보다 쉬운 디버깅을 위해 원래 오류가 포함됩니다.

## 병렬 경로

병렬 라우팅을 사용하면 동일한 레이아웃에서 하나 이상의 페이지를 동시에 조건부로 렌더링할 수 있다.

그로인해 경로가 독립적으로 스트리밍 될 때 각 경로에 대해 독립적인 오류 및 로드 상태를 정의할 수 있다.

또한 인증 상태와 같은 특정 조건에 따라 슬롯을 조건부로 렌더링 할 수도 있다. 이를 통해 URL에서 완전히 분리된 코드를 사용할 수 있다.

### 컨벤션

병렬 경로는 **명명된 슬롯**을 사용하여 생성된다 . 슬롯은 규칙에 따라 정의되며 `@folderprops`와 동일한 수준의 레이아웃에 전달된다.

> 슬롯은 `경로 세그먼트가 아니며 URL 구조에 영향을 주지 않습니다.` 파일 경로는 `/@team/members`에서 `/members`에 액세스할 수 있습니다.
